"""
å¿«é€Ÿæ•°æ®å½•å…¥å·¥å…·
ç”¨äºæ‰¹é‡å½•å…¥æ¸¸æˆè®°å½•
"""

import pandas as pd
from pathlib import Path
from datetime import datetime

# æ•°æ®æ¨¡æ¿
records = [
    # ç¤ºä¾‹æ ¼å¼ï¼ˆåˆ é™¤è¿™ä¸€è¡Œå¹¶æ·»åŠ ä½ çš„æ•°æ®ï¼‰ï¼š
    # {"datetime": "2025-12-09T14:30:00", "map": "å¤§å", "mode": "æœºå¯†", "zone": "ä¼˜åŠ¿æ–¹: å†›è¥/æ æ†(ç¦»ä¸»æ¥¼æœ€è¿‘ï¼ŒTOå‡ºç”Ÿç‚¹)", "items": "M4A1;åŒ»ç–—åŒ…", "profit": 350000, "survived": True},
    
    # åœ¨è¿™é‡Œæ·»åŠ ä½ çš„æ¸¸æˆè®°å½•ï¼š
    # æ ¼å¼è¯´æ˜ï¼š
    # - datetime: æ¸¸æˆæ—¶é—´ (æ ¼å¼: YYYY-MM-DDTHH:MM:SS)
    # - map: åœ°å›¾å (å¤§å/é•¿å¼“/å·´å…‹ä»€/èˆªå¤©/ç›‘ç‹±)
    # - mode: æ¨¡å¼ (æ™®é€š/æœºå¯†/ç»å¯†/è‡ªé€‚åº”)
    # - zone: å‡ºç”Ÿç‚¹ (å¤§ååœ°å›¾å¯é€‰:)
    #         ä¼˜åŠ¿æ–¹: å†›è¥/æ æ†(ç¦»ä¸»æ¥¼æœ€è¿‘ï¼ŒTOå‡ºç”Ÿç‚¹)
    #         ä¼˜åŠ¿æ–¹: ç»´ä¿®é€šé“(å¸¦ç”µé€šè¿‡æ²³æˆ–è¿›é“)
    #         ä¼˜åŠ¿æ–¹: å˜ç”µç«™å¤–å›´(é€šå¸¸å…ˆåƒå˜ç”µç«™å†å»æ¥¼)
    #         åŠ£åŠ¿æ–¹: æµèˆä¸­å¿ƒæ­£é—¨(å…¨å›¾æœ€è¿œï¼Œéœ€é•¿é€”å¥”è¢­)
    #         åŠ£åŠ¿æ–¹: æ°´æ³¥å‚/åå±±(å»ºè®®ç›´æ¥åƒå®Œæ°´æ³¥å‚ï¼Œæ¶èµ·å‰å¾€ä¸­å¿ƒçš„äºº)
    #         åŠ£åŠ¿æ–¹: æ²³æ»©/é‡åœ°(è€å…­ä½ï¼Œé€‚åˆåŠè·¯æˆªæ€)
    # - items: è·å¾—ç‰©å“ (ç”¨åˆ†å·;åˆ†éš”ï¼Œå¦‚ "M4A1;åŒ»ç–—åŒ…;é’¥åŒ™å¡")
    # - profit: æ”¶ç›Š (æ•°å­—)
    # - survived: æ˜¯å¦æ’¤ç¦» (True/False)
    
]

def main():
    if not records:
        print("âš ï¸ è¯·å…ˆåœ¨ records åˆ—è¡¨ä¸­æ·»åŠ æ¸¸æˆè®°å½•ï¼")
        print("\nç¤ºä¾‹æ ¼å¼ï¼š")
        print("""
records = [
    {"datetime": "2025-12-09T14:30:00", "map": "å¤§å", "mode": "æœºå¯†", "zone": "ä¼˜åŠ¿æ–¹: å†›è¥/æ æ†(ç¦»ä¸»æ¥¼æœ€è¿‘ï¼ŒTOå‡ºç”Ÿç‚¹)", "items": "M4A1;åŒ»ç–—åŒ…", "profit": 350000, "survived": True},
    {"datetime": "2025-12-09T15:45:00", "map": "å¤§å", "mode": "æ™®é€š", "zone": "åŠ£åŠ¿æ–¹: æ°´æ³¥å‚/åå±±(å»ºè®®ç›´æ¥åƒå®Œæ°´æ³¥å‚ï¼Œæ¶èµ·å‰å¾€ä¸­å¿ƒçš„äºº)", "items": "AK-47", "profit": 120000, "survived": True},
    {"datetime": "2025-12-09T16:20:00", "map": "å¤§å", "mode": "ç»å¯†", "zone": "ä¼˜åŠ¿æ–¹: ç»´ä¿®é€šé“(å¸¦ç”µé€šè¿‡æ²³æˆ–è¿›é“)", "items": "é’¥åŒ™å¡;6çº§æŠ¤ç”²", "profit": 800000, "survived": False},
]
        """)
        return
    
    # è½¬æ¢ä¸ºDataFrame
    df = pd.DataFrame(records)
    
    # ä¿å­˜åˆ°DeltaToolç›®å½•
    data_dir = Path.home() / "Documents" / "DeltaTool"
    data_dir.mkdir(parents=True, exist_ok=True)
    
    # ç”Ÿæˆæ–‡ä»¶å
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    csv_file = data_dir / f"manual_import_{timestamp}.csv"
    
    # ä¿å­˜CSV
    df.to_csv(csv_file, index=False, encoding='utf-8-sig')
    
    print("="*60)
    print("âœ… æ•°æ®å¯¼å…¥æˆåŠŸï¼")
    print("="*60)
    print(f"\nè®°å½•æ•°: {len(records)}")
    print(f"ä¿å­˜ä½ç½®: {csv_file}")
    print("\nè®°å½•é¢„è§ˆ:")
    print(df.to_string(index=False))
    print("\nä¸‹ä¸€æ­¥ï¼š")
    print("1. åœ¨Streamlitåº”ç”¨ä¸­æ‰“å¼€ 'ğŸ“ˆ æ•°æ®ç®¡ç†' é¡µé¢")
    print("2. é€‰æ‹© 'æ–‡ä»¶ä¸Šä¼ ' æ ‡ç­¾")
    print(f"3. ä¸Šä¼ æ–‡ä»¶: {csv_file}")
    print("   æˆ–è€…ç›´æ¥åœ¨ 'æˆ‘çš„æ•°æ®' ä¸­æŸ¥çœ‹ï¼ˆåº”ç”¨ä¼šè‡ªåŠ¨åŠ è½½ï¼‰")
    print("\n" + "="*60)

if __name__ == "__main__":
    main()
